<?xml version="1.0"?><metadata><Esri><MetaID SYNC="true" /><CreaDate SYNC="true" /><CreaTime SYNC="true" /><SyncOnce SYNC="true">TRUE</SyncOnce><ModDate SYNC="true" /><ModTime SYNC="true" /></Esri><dataIdInfo><idCitation><resTitle sync="true"> (Cartography)</resTitle><citRespParty><rpIndName /><rpOrgName>ESRI, Inc.</rpOrgName><rpPosName /><rpCntInfo><cntAddress><delPoint>380 New York Street</delPoint><city>Redlands</city><adminArea>California</adminArea><postCode>92373 - 8100</postCode><eMailAdd>info@esri.com</eMailAdd><country>United States</country></cntAddress><cntPhone><voiceNum>909-793-2853</voiceNum><faxNum>909-793-5953</faxNum></cntPhone></rpCntInfo><role><RoleCd>010</RoleCd></role></citRespParty></idCitation><idAbs><para> Converts labels to annotation for layers in a map document based on a polygon index layer. The tool divides a map into tiles and creates annotation for each one in turn. This is useful for converting labels to annotation for a large area. The polygon index layer can be one generated by the Map Server Cache Annotation Tile Features or Create Polygon Grid tools or any other polygon feature class that covers the area where you would like to create annotation. </para></idAbs><descKeys KeyTypCd="005"><keyTyp><keyTyp>005</keyTyp></keyTyp><keyword></keyword></descKeys></dataIdInfo><distInfo><distributor><distorFormat><formatName sync="true">ArcToolBox Tool</formatName></distorFormat><distorTran><onLineSrc><linkage /><protocol /><onFunct><onFunctCd /></onFunct></onLineSrc></distorTran></distributor></distInfo><metainfo><metd Sync="TRUE" /></metainfo><mdDateSt Sync="TRUE" /><tool name="" displayname=" (Cartography)" toolboxalias="cartography" softwarerestriction="none"><summary><para> Converts labels to annotation for layers in a map document based on a polygon index layer. The tool divides a map into tiles and creates annotation for each one in turn. This is useful for converting labels to annotation for a large area. The polygon index layer can be one generated by the Map Server Cache Annotation Tile Features or Create Polygon Grid tools or any other polygon feature class that covers the area where you would like to create annotation. </para></summary><alink_name>_cartography</alink_name><toolIllust type="dialog" src="ARCTOOLBOXHELP/_cartography_v.jpg" alt="  " /><toolIllust type="illustration" src="_cartography_h.jpg" alt="  " /><parameters><param sync="true" name="in_map_document" displayname="Map Document" datatype="DEMapDocumentType" direction="Input" expression="in_map_document" type="Required"><pythonReference><para> The source map document that contains the labels to convert to annotation. </para></pythonReference><dialogReference><para> The source map document that contains the labels to convert to annotation. </para></dialogReference></param><param sync="true" name="in_data_frame" displayname="Data Frame" datatype="GPStringType" direction="Input" expression="in_data_frame" type="Required"><pythonReference><para> The data frame from the map document that contains the labels to convert to annotation.</para></pythonReference><dialogReference><para> The data frame from the map document that contains the labels to convert to annotation.</para></dialogReference></param><param sync="true" name="in_polygon_index_layer" displayname="Polygon Index Layer" datatype="GPTableViewType" direction="Input" expression="in_polygon_index_layer" type="Required"><pythonReference><para> The polygon layer that contains tile features. </para></pythonReference><dialogReference><para> The polygon layer that contains tile features. </para></dialogReference></param><param sync="true" name="out_out_layer" displayname="Output Layer" datatype="GPGroupLayerType" direction="Output" expression="out_out_layer" type="Required"><pythonReference><para> The group layer that will contain the generated annotation. When working in ArcCatalog, you can use the Save to Layer File tool to write the output group layer to a layer file. When using ArcMap, the tool adds the group layer to the display if this option is checked in the geoprocessing options. The group layer that is created is temporary and will not persist after the session ends unless the document is saved. </para></pythonReference><dialogReference><para> The group layer that will contain the generated annotation. When working in ArcCatalog, you can use the Save to Layer File tool to write the output group layer to a layer file. When using ArcMap, the tool adds the group layer to the display if this option is checked in the geoprocessing options. The group layer that is created is temporary and will not persist after the session ends unless the document is saved. </para></dialogReference></param><param sync="true" name="in_anno_suffix" displayname="Annotation Suffix" datatype="GPStringType" direction="Input" expression="in_anno_suffix" type="Required"><pythonReference><para> The suffix that will be added to each new annotation feature class. This suffix will be appended to the name of the source feature class for each new annotation feature class. The reference scale for the annotation will follow this suffix. </para></pythonReference><dialogReference><para> The suffix that will be added to each new annotation feature class. This suffix will be appended to the name of the source feature class for each new annotation feature class. The reference scale for the annotation will follow this suffix. </para></dialogReference></param><param sync="true" name="in_target_workspace" displayname="Target Workspace" datatype="GPCompositeDataType; DEWorkspaceType; DEFeatureDatasetType" direction="Input" expression="in_target_workspace" type="Required"><pythonReference><para> The workspace where the output feature classes will be saved. The workspace can be an existing geodatabase or an existing feature dataset. </para></pythonReference><dialogReference><para> The workspace where the output feature classes will be saved. The workspace can be an existing geodatabase or an existing feature dataset. </para></dialogReference></param><param sync="true" name="in_reference_scale_field" displayname="Reference Scale Field" datatype="FieldType" direction="Input" expression="in_reference_scale_field" type="Optional"><pythonReference><para> The field in the polygon index layer that will determine the reference scale of the annotation. This sets the scale to which all symbol and text sizes in the annotation will be based. </para></pythonReference><dialogReference><para> The field in the polygon index layer that will determine the reference scale of the annotation. This sets the scale to which all symbol and text sizes in the annotation will be based. </para></dialogReference></param><param sync="true" name="in_reference_scale_value" displayname="Reference Scale Value" datatype="GPDoubleType" direction="Input" expression="in_reference_scale_value" type="Optional"><pythonReference><para> Enter the scale to use as a reference for the annotation. This sets the scale to which all symbol and text sizes in the annotation will be based. </para></pythonReference><dialogReference><para> Enter the scale to use as a reference for the annotation. This sets the scale to which all symbol and text sizes in the annotation will be based. </para></dialogReference></param><param sync="true" name="in_ tile_id_field" displayname="Tile ID Field" datatype="FieldType" direction="Input" expression="in_ tile_id_field" type="Optional"><pythonReference><para> A field in the polygon index layer that uniquely identifies the tiled area. These values will populate the TileID field in the annotation feature class attribute table. </para></pythonReference><dialogReference><para> A field in the polygon index layer that uniquely identifies the tiled area. These values will populate the TileID field in the annotation feature class attribute table. </para></dialogReference></param><param sync="true" name="in_coordinate_sys_field" displayname="Coordinate System Field" datatype="FieldType" direction="Input" expression="in_coordinate_sys_field" type="Optional"><pythonReference><para> A field in the polygon index layer that contains the coordinate system information for each tile. Due to the length required for a field to store coordinate system information a polygon index layer that contains a coordinate system field must be a geodatabase feature class. </para></pythonReference><dialogReference><para> A field in the polygon index layer that contains the coordinate system information for each tile. Due to the length required for a field to store coordinate system information a polygon index layer that contains a coordinate system field must be a geodatabase feature class. </para></dialogReference></param><param sync="true" name="in_map_rotation_field" displayname="Map Rotation Field" datatype="FieldType" direction="Input" expression="in_map_rotation_field" type="Optional"><pythonReference><para> A field in the polygon index layer that contains an angle that the data frame is to be rotated by. </para></pythonReference><dialogReference><para> A field in the polygon index layer that contains an angle that the data frame is to be rotated by. </para></dialogReference></param><param sync="true" name="in_feature_linked" displayname="Generate Feature Linked Annotation" datatype="GPBooleanType" direction="Input" expression="in_feature_linked" type="Optional"><pythonReference><para> Choose whether the output annotation feature class will be linked to the features in another feature class.<bulletList><bullet_item>NOT_FEATURE_LINKED - The output annotation feature class will not be linked to the features in another feature class. This is the default.</bullet_item><bullet_item>FEATURE_LINKED - The output annotation feature class will be linked to the features in another feature class.</bullet_item></bulletList></para></pythonReference><dialogReference><para> Choose whether the output annotation feature class will be linked to the features in another feature class.<bulletList><bullet_item>NOT_FEATURE_LINKED - The output annotation feature class will not be linked to the features in another feature class. This is the default.</bullet_item><bullet_item>FEATURE_LINKED - The output annotation feature class will be linked to the features in another feature class.</bullet_item></bulletList></para></dialogReference></param><param sync="true" name="in_generate_unplaced_annotation" displayname="Generate Unplaced Annotation" datatype="GPBoolean" direction="Input" expression="in_generate_unplaced_annotation" type="Optional"><pythonReference><para> Choose whether to create unplaced annotation from unplaced labels. </para><bulletList><bullet_item>NOT_GENERATE_UNPLACED_ANNOTATION - Annotation will only be created for features that are currently labeled. This is the default.</bullet_item><bullet_item>GENERATE_UNPLACED_ANNOTATION - Unplaced annotation are stored in the annotation feature class. The status field for these annotation is set to Unplaced.</bullet_item></bulletList></pythonReference><dialogReference><para> Choose whether to create unplaced annotation from unplaced labels. </para><bulletList><bullet_item>NOT_GENERATE_UNPLACED_ANNOTATION - Annotation will only be created for features that are currently labeled. This is the default.</bullet_item><bullet_item>GENERATE_UNPLACED_ANNOTATION - Unplaced annotation are stored in the annotation feature class. The status field for these annotation is set to Unplaced.</bullet_item></bulletList></dialogReference></param></parameters><returnvalues></returnvalues><environments><environment name="" label=""></environment></environments><usage><bullet_item><para> Label class scale ranges are respected. When the tool generates annotation for a specific reference scale it will only convert label classes that are turned on and visible at that scale. </para></bullet_item><bullet_item><para>Once you have configured your label properties, save the map document before running this tool.</para></bullet_item><bullet_item><para>If you select tiles prior to running the tool annotation will only be created for the selected tiles.</para></bullet_item><bullet_item><para>To update annotation for only some tiles in the polygon index layer first select the annotation features with that specific TileID value and delete them. Then select the polygon features and re-run the tool.</para></bullet_item><bullet_item><para>One output of this tool is a series of group layers. One group layer will contain a group layer for each reference scale for which annotation was created.</para></bullet_item><bullet_item><para>When working in ArcCatalog or Model Builder, you can use the Save to Layer File tool to write the output group layer to a layer file. When using ArcMap, the tool adds the group layer to the display if this option is checked in the geoprocessing options. The group layer that is created is temporary and will not persist after the session ends unless the document is saved.</para></bullet_item><bullet_item><para>Group layers created in ArcCatalog cannot be used in ArcMap unless they are saved to a layer file using the Save to Layer file tool.</para></bullet_item><bullet_item><para>An existing group layer will be overwritten if the same layer name is specified and if you explicitly state that overwriting outputs is allowed.</para></bullet_item><bullet_item><para>If duplicate feature class names are found in the data frame a number will be added to the annotation following the feature class name. e.g. Cities01Anno10000, Cities02Anno10000, etc.</para></bullet_item><bullet_item><para>Annotation feature classes will not be overwritten if a suffix is specified that already exists. In this case a number will be added to the annotation feature class suffix. e.g. CitiesAnno10000, CitiesAnno10000_1, etc.</para></bullet_item><bullet_item><para>The target workspace must be an existing geodatabase or feature dataset.</para></bullet_item><bullet_item><para>The reference scale for the annotation feature classes can be specified in one of two ways. The first option is to use a field from the polygon index layer to determine the reference scale of the output annotation feature classes. Use this option if you will create annotation for a variety of scale levels. The second option is to explicitly state a reference scale value. All annotation feature classes will use this reference scale. If a reference scale is set in the map document this will be the default value input into the tool. When using ArcMap, if no reference scale is set the current scale will provide the default value.</para></bullet_item><bullet_item><para>If you are using a polygon index layer that was created by the the Map Server Cache Annotation Tile Features tool use the Tile_Scale field for the Reference Scale Field. A new anotation feature class will be created for each layer/scale combination.</para></bullet_item><bullet_item><para>If you are producing annotation at a variety of reference scales design your map for each of those scales and avoid setting a reference scale in the data frame.</para></bullet_item><bullet_item><para> If a coordinate system field from the polygon index layer is provided the annotation for each tile will be projected into that coordinate system for the purpose of drawing and placement.</para></bullet_item><bullet_item><para>Annotation that is feature linked is associated with a specific feature in another feature class in the geodatabase. If checked, when you create the output annotation feature class, a relationship class will be automatically generated as well.</para></bullet_item><bullet_item><para>When creating feature-linked annotation the output workspace must be the same as that of the feature classes they are linked to.</para></bullet_item><bullet_item><para>Some labels may not currently display on the map because there is no room for them. To convert these labels, check the Convert unplaced labels box. This saves the unplaced labels in the annotation feature class allowing you to position them later in an ArcMap edit session.</para></bullet_item></usage><scriptExamples><scriptExample><title>TiledLabelsToAnnotation Example (Python Window)</title><para></para><code xml:space="preserve">import arcpy
from arcpy import env
env.workspace = "C:/data/Representations_1.gdb"
arcpy.TiledLabelsToAnnotation_cartography("Exercise_1.mxd", "Exercise 1", 
"Tiles", "GroupAnno", "Anno", "Representations_1.gdb", "Tile_Scale", "", 
"OID", "", "", "FEATURE_LINKED", "GENERATE_UNPLACED_ANNOTATION")

                    </code></scriptExample><scriptExample><title>TiledLabelsToAnnotation Example2 (Workflow Script)</title><para>The following script demonstrates a workflow using the Map Server Cache Annotation Tile Features and the Tiled Labels to Annotation functions.</para><code xml:space="preserve"># Name: TiledLabelsToAnnotation_Example2.py
# Description: Create a tile feature class and use those tiles to create annotation.
# Requirements: ArcInfo license
# Author: ESRI

# Import system modules
import arcpy
from arcpy import env

# Set environment settings
env.workspace = "C:/data/data.gdb"

# Set local variables
inMapDocument = "C:/data/Annotation.mxd"
inDataFrame = "Layers"
inTilingScheme = "C:/Program Files/ArcGIS/Desktop9.4/TilingSchemes/ArcGIS_Online.xml"
outFeatureClassName = "C:/data/data.gdb/Tiles"

# Execute MapServerCacheAnnotationTileFeatures
arcpy.MapServerCacheAnnotationTileFeatures_cartography(inMapDocument, 
inDataFrame, inTilingScheme, outFeatureClassName, "", "")

# Set local variables
inMapDocument = "C:/data/Annotation.mxd"
inDataFrame = "Layers"
inPolygonIndexLayer = "Tiles"
outOutLayer = "GroupAnno"
inAnnoSuffix = "Anno"
inTargetWorkspace = "C:/data/data.gdb"
inRefScaleField = "Tile_Scale"
inRefScaleValue = ""
inTileIDField = "OID"
inCoordSysField = ""
inMapRotationField = ""
inFeatureLinked = "FEATURE_LINKED"
inGenerateUnplaced = "GENERATE_UNPLACED_ANNOTATION"

# Execute TiledLabelsToAnnotation
arcpy.TiledLabelsToAnnotation_cartography(inMapDocument, inDataFrame, 
inPolygonIndexLayer, outOutLayer, inAnnoSuffix, inTargetWorkspace, 
inRefScaleField, inRefScaleValue, inTileIDField, inCoordSysField, 
inMapRotationField, inFeatureLinked, inGenerateUnplaced) 

                    </code></scriptExample></scriptExamples></tool></metadata>