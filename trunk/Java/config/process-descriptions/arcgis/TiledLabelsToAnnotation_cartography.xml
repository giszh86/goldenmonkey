<?xml version="1.0"?><metadata><Esri><MetaID SYNC="true" /><CreaDate SYNC="true" /><CreaTime SYNC="true" /><SyncOnce SYNC="true">TRUE</SyncOnce><ModDate SYNC="true" /><ModTime SYNC="true" /></Esri><dataIdInfo><idCitation><resTitle sync="true"> Tiled Labels To Annotation  (Cartography)</resTitle><citRespParty><rpIndName /><rpOrgName>ESRI, Inc.</rpOrgName><rpPosName /><rpCntInfo><cntAddress><delPoint>380 New York Street</delPoint><city>Redlands</city><adminArea>California</adminArea><postCode>92373 - 8100</postCode><eMailAdd>info@esri.com</eMailAdd><country>United States</country></cntAddress><cntPhone><voiceNum>909-793-2853</voiceNum><faxNum>909-793-5953</faxNum></cntPhone></rpCntInfo><role><RoleCd>010</RoleCd></role></citRespParty></idCitation><idAbs>
			<para>Converts labels to annotation for layers in a map document based on a polygon index layer. </para>
			<para> The tool divides a map into tiles and creates annotation for each tile in turn. This is useful for converting a large number of labels to annotation. The polygon index layer can be one generated by the Map Server Cache Tiling Scheme To Polygons or Grid Index Features tools or any other polygon feature class that covers the area where you would like to create annotation.</para>
		</idAbs><descKeys KeyTypCd="005"><keyTyp><keyTyp>005</keyTyp></keyTyp><keyword>Convert</keyword><keyword>Create</keyword><keyword>Generate</keyword><keyword>Geodatabase</keyword><keyword>Label</keyword><keyword>Map Document</keyword><keyword>Text</keyword><keyword>Tile</keyword></descKeys></dataIdInfo><distInfo><distributor><distorFormat><formatName sync="true">ArcToolBox Tool</formatName></distorFormat><distorTran><onLineSrc><linkage /><protocol /><onFunct><onFunctCd /></onFunct></onLineSrc></distorTran></distributor></distInfo><metainfo><metd Sync="TRUE" /></metainfo><mdDateSt Sync="TRUE" /><tool name="TiledLabelsToAnnotation " displayname=" Tiled Labels To Annotation  (Cartography)" toolboxalias="cartography" softwarerestriction="none"><summary>
			<para>Converts labels to annotation for layers in a map document based on a polygon index layer. </para>
			<para> The tool divides a map into tiles and creates annotation for each tile in turn. This is useful for converting a large number of labels to annotation. The polygon index layer can be one generated by the Map Server Cache Tiling Scheme To Polygons or Grid Index Features tools or any other polygon feature class that covers the area where you would like to create annotation.</para>
		</summary><alink_name>TiledLabelsToAnnotation _cartography</alink_name><parameters><param sync="true" name="map_document" displayname="Map Document" datatype="ArcMap Document" direction="Input" expression="map_document" type="Required"><pythonReference>
						<para> The source map document that contains the labels to convert to annotation. </para>
					</pythonReference><dialogReference>
						<para> The source map document that contains the labels to convert to annotation. </para>
					</dialogReference></param><param sync="true" name="data_frame" displayname="Data Frame" datatype="String" direction="Input" expression="data_frame" type="Required"><pythonReference>
						<para> The data frame from the map document that contains the labels to convert to annotation.</para>
					</pythonReference><dialogReference>
						<para> The data frame from the map document that contains the labels to convert to annotation.</para>
					</dialogReference></param><param sync="true" name="polygon_index_layer" displayname="Polygon Index Layer" datatype="Table View" direction="Input" expression="polygon_index_layer" type="Required"><pythonReference>
						<para> The polygon layer that contains tile features. </para>
					</pythonReference><dialogReference>
						<para> The polygon layer that contains tile features. </para>
					</dialogReference></param><param sync="true" name="out_geodatabase" displayname="Output Geodatabase" datatype="Workspace ;Feature Dataset" direction="Input" expression="out_geodatabase" type="Required"><pythonReference>
						<para> The workspace where the output feature classes will be saved. The workspace can be an existing geodatabase or an existing feature dataset. </para>
					</pythonReference><dialogReference>
						<para> The workspace where the output feature classes will be saved. The workspace can be an existing geodatabase or an existing feature dataset. </para>
					</dialogReference></param><param sync="true" name="out_layer" displayname="Output Layer" datatype="Group Layer" direction="Output" expression="out_layer" type="Required"><pythonReference>
						<para> The group layer that will contain the generated annotation. When working in ArcCatalog, you can use the Save To Layer File tool to write the output group layer to a layer file. When using ArcMap, the tool adds the group layer to the display if this option is checked in the geoprocessing options. The group layer that is created is temporary and will not persist after the session ends unless the document is saved. </para>
					</pythonReference><dialogReference>
						<para> The group layer that will contain the generated annotation. When working in ArcCatalog, you can use the Save To Layer File tool to write the output group layer to a layer file. When using ArcMap, the tool adds the group layer to the display if this option is checked in the geoprocessing options. The group layer that is created is temporary and will not persist after the session ends unless the document is saved. </para>
					</dialogReference></param><param sync="true" name="anno_suffix" displayname="Annotation Suffix" datatype="String" direction="Input" expression="anno_suffix" type="Required"><pythonReference>
						<para> The suffix that will be added to each new annotation feature class. This suffix will be appended to the name of the source feature class for each new annotation feature class. The reference scale for the annotation will follow this suffix. </para>
					</pythonReference><dialogReference>
						<para> The suffix that will be added to each new annotation feature class. This suffix will be appended to the name of the source feature class for each new annotation feature class. The reference scale for the annotation will follow this suffix. </para>
					</dialogReference></param><param sync="true" name="reference_scale_value" displayname="Reference Scale Value" datatype="Double" direction="Input" expression="reference_scale_value" type="Optional"><pythonReference>
						<para> Enter the scale to use as a reference for the annotation. This sets the scale to which all symbol and text sizes in the annotation will be based. </para>
					</pythonReference><dialogReference>
						<para> Enter the scale to use as a reference for the annotation. This sets the scale to which all symbol and text sizes in the annotation will be based. </para>
					</dialogReference></param><param sync="true" name="reference_scale_field" displayname="Reference Scale Field" datatype="Field" direction="Input" expression="reference_scale_field" type="Optional"><pythonReference>
						<para> The field in the polygon index layer that will determine the reference scale of the annotation. This sets the scale to which all symbol and text sizes in the annotation will be based. </para>
					</pythonReference><dialogReference>
						<para> The field in the polygon index layer that will determine the reference scale of the annotation. This sets the scale to which all symbol and text sizes in the annotation will be based. </para>
					</dialogReference></param><param sync="true" name="tile_id_field" displayname="Tile ID Field" datatype="Field" direction="Input" expression="tile_id_field" type="Optional"><pythonReference>
						<para> A field in the polygon index layer that uniquely identifies the tiled area. These values will populate the TileID field in the annotation feature class attribute table. </para>
					</pythonReference><dialogReference>
						<para> A field in the polygon index layer that uniquely identifies the tiled area. These values will populate the TileID field in the annotation feature class attribute table. </para>
					</dialogReference></param><param sync="true" name="coordinate_sys_field" displayname="Coordinate System Field" datatype="Field" direction="Input" expression="coordinate_sys_field" type="Optional"><pythonReference>
						<para> A field in the polygon index layer that contains the coordinate system information for each tile. Due to the length required for a field to store coordinate system information, a polygon index layer that contains a coordinate system field must be a geodatabase feature class. </para>
					</pythonReference><dialogReference>
						<para> A field in the polygon index layer that contains the coordinate system information for each tile. Due to the length required for a field to store coordinate system information, a polygon index layer that contains a coordinate system field must be a geodatabase feature class. </para>
					</dialogReference></param><param sync="true" name="map_rotation_field" displayname="Map Rotation Field" datatype="Field" direction="Input" expression="map_rotation_field" type="Optional"><pythonReference>
						<para> A field in the polygon index layer that contains an angle by which the data frame is to be rotated. </para>
					</pythonReference><dialogReference>
						<para> A field in the polygon index layer that contains an angle by which the data frame is to be rotated. </para>
					</dialogReference></param><param sync="true" name="feature_linked" displayname="Generate Feature Linked Annotation" datatype="Boolean" direction="Input" expression="feature_linked" type="Optional"><pythonReference>
						
							<para>This parameter is only available with ArcEditor and ArcInfo licenses.</para>
						<para>Choose whether the output annotation feature class will be linked to the features in another feature class.</para>
						<bulletList><bullet_item>STANDARD— The output annotation feature class will not be linked to the features in another feature class. This is the default.</bullet_item><bullet_item>FEATURE_LINKED—The output annotation feature class will be linked to the features in another feature class.</bullet_item></bulletList>
					</pythonReference><dialogReference>
						
							<para>This parameter is only available with ArcEditor and ArcInfo licenses.</para>
						<para> Choose whether the output annotation feature class will be linked to the features in another feature class.<bulletList>
								<bullet_item>Unchecked—The output annotation feature class will not be linked to the features in another feature class. This is the default.</bullet_item>
								<bullet_item>Checked—The output annotation feature class will be linked to the features in another feature class.</bullet_item>
							</bulletList></para>
					</dialogReference></param><param sync="true" name="generate_unplaced_annotation" displayname="Generate Unplaced Annotation" datatype="Boolean" direction="Input" expression="generate_unplaced_annotation" type="Optional"><pythonReference>
						<para>Choose whether to create unplaced annotation from unplaced labels.</para>
						<bulletList><bullet_item>NOT_GENERATE_UNPLACED_ANNOTATION—Annotation will only be created for features that are currently labeled. This is the default.</bullet_item><bullet_item>GENERATE_UNPLACED_ANNOTATION—Unplaced annotation are stored in the annotation feature class. The status field for these annotation is set to Unplaced.</bullet_item></bulletList>
					</pythonReference><dialogReference>
						<para> Choose whether to create unplaced annotation from unplaced labels. </para>
						<bulletList>
							<bullet_item>Unchecked—Annotation will only be created for features that are currently labeled. This is the default.</bullet_item>
							<bullet_item>Checked—Unplaced annotation are stored in the annotation feature class. The status field for these annotation is set to Unplaced.</bullet_item>
						</bulletList>
					</dialogReference></param></parameters><returnvalues></returnvalues><environments><environment name="Reference_scale" label="Reference scale"></environment></environments><usage><bullet_item>
				<para> Label class scale ranges are respected. When the tool generates annotation for a specific reference scale it will only convert label classes that are turned on and visible at that scale. <para>Label class scale ranges are set on the layer's properties in ArcMap. Once you have configured your label properties, save the map document before running this tool.</para></para>
			</bullet_item><bullet_item>
				<para>If you select tiles prior to running the tool, annotation will only be created for the selected tiles.</para>
			</bullet_item><bullet_item>
				<para>To update annotation for only some tiles in the polygon index layer, first select the annotation features with that specific TileID value and delete them. Then select the polygon features and re-run the tool.</para>
			</bullet_item><bullet_item>
				<para>One output of this tool is a series of group layers. One group layer will contain a group layer for each reference scale for which annotation was created.</para>
			</bullet_item><bullet_item>
				<para>When working in ArcCatalog or ModelBuilder, you can use the  tool to write the output group layer to a layer file. When using ArcMap, the tool adds the group layer to the display if this option is checked in the geoprocessing options. The group layer that is created is temporary and will not persist after the session ends unless the document is saved.</para>
			</bullet_item><bullet_item>
				<para>Group layers created in ArcCatalog cannot be used in ArcMap unless they are saved to a layer file using the  tool.</para>
			</bullet_item><bullet_item>
				<para>An existing group layer will be overwritten if the same layer name is specified and if you explicitly state that overwriting outputs is allowed.</para>
			</bullet_item><bullet_item>
				<para>If duplicate feature class names are found in the data frame, a number will be added to the annotation following the feature class name (e.g., Cities01Anno10000, Cities02Anno10000, and so on).</para>
			</bullet_item><bullet_item>
				<para>Annotation feature classes will not be overwritten if a suffix is specified that already exists. In this case a number will be added to the annotation feature class suffix (e.g., CitiesAnno10000, CitiesAnno10000_1, and so on).</para>
			</bullet_item><bullet_item>
				<para>The reference scale for the annotation feature classes can be specified in one of two ways. <bulletList><bullet_item>The first option is to use a field from the polygon index layer to determine the reference scale of the output annotation feature classes. Use this option if you will create annotation for a variety of scale levels. </bullet_item><bullet_item>The second option is to explicitly state a reference scale value. All annotation feature classes will use this reference scale. If a reference scale is set in the map document, this will be the default value input into the tool. When using ArcMap, if no reference scale is set the current scale will provide the default value.</bullet_item></bulletList></para>
			</bullet_item><bullet_item>
				<para>If you are using a polygon index layer that was created by the the  tool use the Tile_Scale field for the Reference Scale Field. A new anotation feature class will be created for each layer/Tile_Scale combination.</para>
			</bullet_item><bullet_item>
				<para>If you are producing annotation at a variety of reference scales, design your map for each of those scales and avoid setting a reference scale in the data frame.</para>
			</bullet_item><bullet_item>
				<para> If a coordinate system field from the polygon index layer is provided the annotation for each tile will be projected into that coordinate system for the purpose of drawing and placement.</para>
			</bullet_item><bullet_item>
				<para>Annotation that is feature linked is associated with a specific feature in another feature class in the geodatabase. If checked, when you create the output annotation feature class, a relationship class will be automatically generated as well.</para>
			</bullet_item><bullet_item>
				<para>When creating feature-linked annotation the output workspace must be the same as that of the feature classes they are linked to.</para>
			</bullet_item><bullet_item>
				<para>Some labels may not currently display on the map because there is no room for them. To convert these labels, check the Generate Unplaced Annotation box. This saves the unplaced labels in the annotation feature class, allowing you to position them later in an ArcMap edit session.</para>
			</bullet_item></usage><scriptExamples><scriptExample><title>TiledLabelsToAnnotation Example (Python Window)</title>
					<para></para>
				<code xml:space="preserve">import arcpy
from arcpy import env
env.workspace = "C:/data/data.gdb"
arcpy.TiledLabelsToAnnotation_cartography("Annotation.mxd", "Layers", 
"Tiles", "data.gdb", "GroupAnno", "Anno", "", "Tile_Scale",  
"OID", "", "", "FEATURE_LINKED", "GENERATE_UNPLACED_ANNOTATION")

                    </code></scriptExample><scriptExample><title>TiledLabelsToAnnotation Example2 (workflow script)</title>
					<para>The following script demonstrates a workflow using the MapServerCacheTilingSchemeToPolygons and the TiledLabelsToAnnotation functions.</para>
				<code xml:space="preserve"># Name: TiledLabelsToAnnotation_Example2.py
# Description: Create a tile feature class and use those tiles to create annotation.
# Requirements: ArcInfo license
# Author: ESRI

# Import system modules
import arcpy
from arcpy import env

# Set environment settings
env.workspace = "C:/data/data.gdb"

# Set local variables
inMapDocument = "C:/data/Annotation.mxd"
inDataFrame = "Layers"
inTilingScheme = "C:/Program Files/ArcGIS/Desktop10.0/TilingSchemes/ArcGIS_Online_Bing_Maps_Google_Maps.xml"
outFeatureClass = "C:/data/data.gdb/Tiles"
inTileExtent = "USE_MAP_EXTENT"
inClipping = "CLIP_TO_HORIZON"
inAntialiasing = "NONE"
inScales = ""

# Execute MapServerCacheTilingSchemeToPolygons
arcpy.MapServerCacheTilingSchemeToPolygons_cartography(inMapDocument, inDataFrame, inTilingScheme, outFeatureClass, 
																																																							inTileExtent, inClipping, inAntialiasing, inScales)

# Set local variables
inMapDocument = "C:/data/Annotation.mxd"
inDataFrame = "Layers"
inPolygonIndexLayer = "Tiles"
inOutGeodatabase = "C:/data/data.gdb"
outOutLayer = "GroupAnno"
inAnnoSuffix = "Anno"
inRefScaleValue = ""
inRefScaleField = "Tile_Scale"
inTileIDField = "OID"
inCoordSysField = ""
inMapRotationField = ""
inFeatureLinked = "STANDARD"
inGenerateUnplaced = "GENERATE_UNPLACED_ANNOTATION"

# Execute TiledLabelsToAnnotation
arcpy.TiledLabelsToAnnotation_cartography(inMapDocument, inDataFrame, inPolygonIndexLayer, inOutGeodatabase, 
																																										outOutLayer, inAnnoSuffix, inRefScaleValue, inRefScaleField, 
																																										inTileIDField, inCoordSysField, inMapRotationField,inFeatureLinked, 
																																										inGenerateUnplaced)  

                    </code></scriptExample></scriptExamples></tool></metadata>